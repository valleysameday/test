<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rhondda Noticeboard</title>

  <meta name="description"
        content="Local offers, events and services across Rhondda. A community noticeboard for residents and businesses." />

  <link rel="stylesheet" href="/index/css/main.css">
<link rel="stylesheet" href="/index/css/index-cards.css">
<link rel="stylesheet" href="/index/css/modals.css">
</head>

<body>

<!-- ================= HEADER ================= -->
<header>
  <div class="header-inner">
    <a href="/">
      <img src="/images/logo.svg"
           alt="Rhondda Noticeboard logo"
           class="logo" />
    </a>
  </div>
</header>
<!-- ================= MAIN (SPA CONTAINER) ================= -->
<main id="app">
  <div id="view-home" class="view"></div>
</main>

<!-- ================= LOGIN MODAL ================= -->
<div id="login" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Log in</h2>

    <input type="email" id="loginEmail" placeholder="Email" autocomplete="email">
    <input type="password" id="loginPassword" placeholder="Password" autocomplete="current-password">

    <button id="loginSubmit">Log in</button>

    <p id="loginFeedback" class="feedback-text"></p>

    <p class="modal-switch">
      No account?
      <span data-action="open-screen" data-value="signup">Create one</span>
    </p>

    <p class="modal-link"
       data-action="open-screen"
       data-value="forgot">
      Forgot password?
    </p>
  </div>
</div>

<!-- ================= FORGOT PASSWORD MODAL ================= -->
<div id="forgot" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Reset Password</h2>

    <input type="email" id="forgotEmail" placeholder="Enter your email" autocomplete="email">

    <button id="forgotSubmit">Send Reset Email</button>

    <p class="modal-switch">
      Remembered your password?
      <span data-action="open-screen" data-value="login">Back to login</span>
    </p>
  </div>
</div>

<!-- ================= PASSWORD RESET CONFIRMATION MODAL ================= -->
<div id="resetConfirm" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Email Sent âœ…</h2>
    <p>Check your inbox for a password reset link.</p>

    <button data-action="open-screen" data-value="login">
      Back to Login
    </button>
  </div>
</div>

<!-- ================= SIGNUP MODAL ================= -->
<div id="signup" class="modal">
  <div class="modal-content">
    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <h2>Create account</h2>

    <input type="email" id="signupEmail" placeholder="Email" autocomplete="email">
    <input type="password" id="signupPassword" placeholder="Password" autocomplete="new-password">

    <label class="checkbox-label">
      <input type="checkbox" id="isBusinessAccount">
      This is a business account
    </label>

    <div id="businessBenefits" class="business-benefits">
      <h4>Business Account Benefits</h4>
      <ul>
        <li>Post featured ads</li>
        <li>Get premium visibility</li>
        <li>Access business analytics</li>
        <li>Priority support</li>
      </ul>
    </div>

    <button id="signupSubmit">Create account</button>

    <p id="signupFeedback" class="feedback-text"></p>

    <p class="modal-switch">
      Already have an account?
      <span data-action="open-screen" data-value="login">Log in</span>
    </p>
  </div>
</div>

<!-- ================= POST MODAL ================= -->
<div id="posts-grid" class="modal">
  <div class="modal-content">

    <button class="close"
            aria-label="Close"
            data-action="close-screens">&times;</button>

    <!-- Progress dots -->
    <div class="post-progress">
      <span class="dot active"></span>
      <span class="dot"></span>
      <span class="dot"></span>
    </div>

    <div id="postFlow">

      <!-- ========== STEP 1: CATEGORY ========== -->
      <div class="post-step active" data-step="1">
        <h2>What are you posting?</h2>

        <div class="category-grid">
          <button type="button" data-category="forsale">ğŸ›‹ For Sale</button>
          <button type="button" data-category="jobs">ğŸ’¼ Jobs & Services</button>
          <button type="button" data-category="property">ğŸ  Property</button>
          <button type="button" data-category="events">ğŸ“… Events</button>
          <button type="button" data-category="community">ğŸ‘¥ Community</button>
          <button type="button" data-category="free">ğŸ Free</button>
        </div>
      </div>

      <!-- ========== STEP 2: CORE DETAILS ========== -->
      <div class="post-step" data-step="2">
        <h2>Tell people about it</h2>

        <input
          type="text"
          id="postTitle"
          placeholder="Ad title"
          maxlength="70"
          required
        >

        <textarea
          id="postDescription"
          rows="5"
          placeholder="Add a description"
          required
        ></textarea>

        <div class="post-nav">
          <button type="button" class="post-prev ghost-btn">Back</button>
          <button type="button" class="post-next primary-btn" disabled>
            Continue
          </button>
        </div>
      </div>

      <!-- ========== STEP 3: OPTIONAL DETAILS ========== -->
      <div class="post-step" data-step="3">
        <h2>Optional details</h2>

        <input
          type="number"
          id="postPrice"
          placeholder="Price (optional)"
          min="0"
          step="0.01"
        >

        <input
          type="text"
          id="postArea"
          placeholder="Area (optional)"
        >

        <div class="photo-uploader">
          <input
            type="file"
            id="postImages"
            accept="image/*"
            multiple
            hidden
          >

          <button type="button" id="addPhotosBtn" class="ghost-btn">
            + Add photos
          </button>

          <small class="hint-text">
            Add up to 4 photos. First photo becomes the cover.
          </small>

          <div id="imagePreview" class="image-preview-grid"></div>
        </div>

        <div class="post-nav">
          <button type="button" class="post-prev ghost-btn">Back</button>
          <button type="button" id="postSubmitBtn" class="primary-btn">
            Post ad
          </button>
        </div>
      </div>

    </div>

    <p id="postFeedback" class="feedback-text"></p>

  </div>
</div>
<!-- ================= FIXED ACTION BAR ================= -->
<div class="action-bar">

  <!-- Home -->
  <a href="/" class="action-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
      <polyline points="9 22 9 12 15 12 15 22"/>
    </svg>
    <span class="label-main">Home</span>
  </a>

  <!-- Post an Ad -->
  <a href="/post" id="openPostModal" class="action-link post-free">
    <div class="icon-wrap">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
           fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
        <line x1="12" y1="8" x2="12" y2="16"/>
        <line x1="8" y1="12" x2="16" y2="12"/>
      </svg>
      <span class="free-ribbon">FREE</span>
    </div>
    <span>Post an Ad</span>
  </a>

  <!-- Messages -->
  <a href="/messages" class="action-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
    </svg>
    <span class="label-main">Messages</span>
  </a>

  <!-- My Account -->
  <a href="/account" id="openAccountModal" class="action-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
      <circle cx="12" cy="7" r="4"/>
    </svg>
    <span class="label-main">My Account</span>
  </a>

</div>

<!-- ================= FOOTER ================= -->
<footer class="site-footer">
  <div class="footer-inner">
    <p class="footer-brand">
      <strong>Rhondda Noticeboard</strong><br>
      <span class="footer-tagline">
        Browse it. Post it. Sell it.
      </span><br>
      <span class="footer-subline">
        All local. All Rhondda.
      </span>
    </p>

    <p class="footer-links">
      <a href="/about.html">About</a>
      <span>Â·</span>
      <a href="/terms.html">Terms</a>
      <span>Â·</span>
      <a href="/contact.html">Contact</a>
    </p>

    <p class="footer-copy">
      &copy; 2025 Rhondda Noticeboard Â· Built for the Rhondda, Powered by Locals
    </p>
  </div>
</footer>

<!-- SPA + App Logic -->
<script type="module" src="/index/js/main.js"></script>

</body>
</html>
