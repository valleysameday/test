<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rhondda Noticeboard</title>

  <meta name="description"
        content="Local offers, events and services across Rhondda. A community noticeboard for residents and businesses." />

  <link rel="stylesheet" href="/index/css/main.css">
 <link rel="stylesheet" href="/index/css/home-cards.css">
  <link rel="stylesheet" href="/index/css/modals.css">
</head>

<body>

<!-- ================= HEADER ================= -->
<header>
  <div class="header-inner">
    <a href="/">
      <img src="/index/images/logo.svg"
           alt="Rhondda Noticeboard logo, browse sell post free in the Rhondda"
           class="logo" />
    </a>
  </div>
</header>
<!-- ================= MAIN (SPA CONTAINER) ================= -->
<main id="app"></main>

<!-- ================= LOGIN MODAL ================= -->
<div id="loginModal" class="modal">
  <div class="modal-content">
    <button class="close" aria-label="Close">&times;</button>
    <h2>Log in</h2>

    <input type="email" id="loginEmail" placeholder="Email" autocomplete="email">
    <input type="password" id="loginPassword" placeholder="Password" autocomplete="current-password">

    <button id="loginSubmit">Log in</button>

    <!-- LOGIN FEEDBACK -->
    <p id="loginFeedback" class="feedback-text"></p>

    <p class="modal-switch">
      No account?
      <span onclick="openScreen('signup')">Create one</span>
    </p>

    <p id="forgotPasswordLink" class="modal-link">Forgot password?</p>
  </div>
</div>

<!-- ================= FORGOT PASSWORD MODAL ================= -->
<div id="forgotPasswordModal" class="modal">
  <div class="modal-content">
    <button class="close" aria-label="Close">&times;</button>
    <h2>Reset Password</h2>

    <input type="email" id="forgotEmail" placeholder="Enter your email" autocomplete="email">

    <button id="forgotSubmit">Send Reset Email</button>

    <p class="modal-switch">
      Remembered your password?
      <span onclick="openScreen('login')">Back to login</span>
    </p>
  </div>
</div>

<!-- ================= PASSWORD RESET CONFIRMATION MODAL ================= -->
<div id="resetConfirmModal" class="modal">
  <div class="modal-content">
    <button class="close" aria-label="Close">&times;</button>
    <h2>Email Sent âœ…</h2>
    <p>Check your inbox for a password reset link.</p>

    <button onclick="openScreen('login')">Back to Login</button>
  </div>
</div>

<!-- ================= SIGNUP MODAL ================= -->
<div id="signupModal" class="modal">
  <div class="modal-content">
    <button class="close" aria-label="Close">&times;</button>
    <h2>Create account</h2>

    <input type="email" id="signupEmail" placeholder="Email" autocomplete="email">
    <input type="password" id="signupPassword" placeholder="Password" autocomplete="new-password">

    <label class="checkbox-label">
      <input type="checkbox" id="isBusinessAccount">
      This is a business account
    </label>

    <div id="businessBenefits" class="business-benefits">
      <h4>Business Account Benefits</h4>
      <ul>
        <li>Post featured ads</li>
        <li>Get premium visibility</li>
        <li>Access business analytics</li>
        <li>Priority support</li>
      </ul>
    </div>

    <button id="signupSubmit">Create account</button>

    <!-- SIGNUP FEEDBACK -->
    <p id="signupFeedback" class="feedback-text"></p>

    <p class="modal-switch">
      Already have an account?
      <span onclick="openScreen('login')">Log in</span>
    </p>
  </div>
</div>

<!-- ================= POST MODAL ================= -->
<div id="postModal" class="modal">
  <div class="modal-content">
    <button class="close" aria-label="Close">&times;</button>

    <div id="postFlow">

      <!-- ================= STEP 0: POSTCODE CHECK ================= -->
      <div class="post-step" data-step="0">
        <h2>Your Postcode</h2>

        <label for="postPostcode" class="tooltip-wrapper">
          First part of your postcode
          <span class="tooltip-icon">â“˜</span>
          <span class="tooltip-text">
            We only use the first part of your postcode (e.g. CF43) to keep
            Rhondda Noticeboard local and help match posts to nearby people.
          </span>
        </label>

        <input type="text" id="postPostcode" placeholder="e.g. CF43" maxlength="6">

        <div id="rhondda-warning" class="rhondda-warning hidden">
          <p>âš ï¸ This website is intended for the Rhondda area. You can still post, but posts outside Rhondda may not reach local users.</p>
        </div>

        <div id="rhondda-thanks" class="rhondda-thanks hidden">
          <p>âœ… Thank you! You wonâ€™t be asked for your postcode again during this session.</p>
        </div>

        <button class="post-next">Next</button>
      </div>

      <!-- ================= STEP 1: CATEGORY ================= -->
      <div class="post-step" data-step="1">
        <h2>What are you posting?</h2>

        <select id="postCategory">
          <option value="">Choose category</option>
          <option value="forsale">For Sale</option>
          <option value="jobs">Jobs & Services</option>
          <option value="property">Property</option>
          <option value="events">Events</option>
          <option value="community">Community</option>
          <option value="free">Free</option>
        </select>

        <button class="post-prev">Back</button>
        <button class="post-next">Next</button>
      </div>

      <!-- ================= STEP 2: CONDITION ================= -->
      <div class="post-step" data-step="2">
        <h2>Condition</h2>
        <p class="hint-text">Helps buyers understand the item quickly.</p>

        <label class="checkbox-label">
          <input type="radio" name="postCondition" value="brandnew">
          ğŸ†• Brand New
        </label>

        <label class="checkbox-label">
          <input type="radio" name="postCondition" value="likenew">
          âœ¨ Like New
        </label>

        <label class="checkbox-label">
          <input type="radio" name="postCondition" value="good">
          ğŸ‘ Good Condition
        </label>

        <label class="checkbox-label">
          <input type="radio" name="postCondition" value="fair">
          ğŸ™‚ Fair Condition
        </label>

        <label class="checkbox-label">
          <input type="radio" name="postCondition" value="needswork">
          ğŸ”§ Needs Attention
        </label>

        <label class="checkbox-label">
          <input type="radio" name="postCondition" value="refurbished">
          â™»ï¸ Refurbished / Upcycled
        </label>

        <button class="post-prev">Back</button>
        <button class="post-next">Next</button>
      </div>

      <!-- ================= STEP 3: BADGES ================= -->
      <div class="post-step" data-step="3">
        <h2>Extra Options</h2>
        <p class="hint-text">These show as icons on your card.</p>

        <label class="checkbox-label">
          <input type="checkbox" name="postBadge" value="delivery">
          ğŸšš Delivery Available
        </label>

        <label class="checkbox-label">
          <input type="checkbox" name="postBadge" value="collection">
          ğŸ“¦ Collection Only
        </label>

        <label class="checkbox-label">
          <input type="checkbox" name="postBadge" value="assembly">
          ğŸ› ï¸ Assembly / Setup Help
        </label>

        <label class="checkbox-label">
          <input type="checkbox" name="postBadge" value="heavy">
          ğŸ‹ï¸ Heavy Item
        </label>

        <label class="checkbox-label">
          <input type="checkbox" name="postBadge" value="boxed">
          ğŸ Boxed / Sealed
        </label>

        <label class="checkbox-label">
          <input type="checkbox" name="postBadge" value="new">
          ğŸ†• New Condition
        </label>

        <button class="post-prev">Back</button>
        <button class="post-next">Next</button>
      </div>

      <!-- ================= STEP 4: AD DETAILS ================= -->
      <div class="post-step" data-step="4">
        <h2>Ad Details</h2>

        <input type="text" id="postTitle" placeholder="Title" required>

        <textarea id="postDescription" rows="4" placeholder="Description" required></textarea>

        <label>Price (optional)</label>
        <input type="number" id="postPrice" placeholder="0" min="0" step="0.01">

        <label>Your Area</label>
        <input type="text" id="postArea" placeholder="e.g. Ferndale, Pentre, Tonypandy">

        <label>Add Photos</label>
        <button id="chooseImageBtn" class="ghost-btn">Choose Photos</button>
        <input type="file" id="postImage" accept="image/*" multiple style="display:none;">
        <div id="imagePreview" class="image-preview-grid"></div>

        <button class="post-prev">Back</button>
        <button id="postSubmitBtn">Submit Ad</button>
      </div>

    </div>

    <p id="postFeedback" class="feedback-text"></p>
  </div>
</div>
      
<!-- ================= FIXED ACTION BAR ================= -->
<div class="action-bar">

  <!-- Home -->
  <a href="/" class="action-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
      <polyline points="9 22 9 12 15 12 15 22"/>
    </svg>
    <span class="label-main">Home</span>
  </a>

  <!-- Post an Ad -->
  <a href="/post" id="openPostModal" class="action-link post-free">
    <div class="icon-wrap">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
           fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
        <line x1="12" y1="8" x2="12" y2="16"/>
        <line x1="8" y1="12" x2="16" y2="12"/>
      </svg>
      <span class="free-ribbon">FREE</span>
    </div>
    <span>Post an Ad</span>
  </a>

  <!-- Messages -->
  <a href="/messages" class="action-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/>
    </svg>
    <span class="label-main">Messages</span>
  </a>

  <!-- My Account -->
  <a href="/account" id="openAccountModal" class="action-link">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
         fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
      <circle cx="12" cy="7" r="4"/>
    </svg>
    <span class="label-main">My Account</span>
  </a>

</div>

<!-- ================= FOOTER ================= -->
<footer class="site-footer">
  <div class="footer-inner">
    <p class="footer-brand">
      <strong>Rhondda Noticeboard</strong><br>
      <span class="footer-tagline">
        Browse it. Post it. Sell it.
      </span><br>
      <span class="footer-subline">
        All local. All Rhondda.
      </span>
    </p>

    <p class="footer-links">
      <a href="/about.html">About</a>
      <span>Â·</span>
      <a href="/terms.html">Terms</a>
      <span>Â·</span>
      <a href="/contact.html">Contact</a>
    </p>

    <p class="footer-copy">
      &copy; 2025 Rhondda Noticeboard Â· Built for the Rhondda, Powered by Locals
    </p>
  </div>
</footer>

<!-- SPA + App Logic -->
<script type="module" src="/index/js/main.js"></script>

</body>
</html>
